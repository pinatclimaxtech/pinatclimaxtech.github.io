<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    
    <title>DOCKER - NGINX HTTP SERVER | pin@ClimaxTech</title>
    <meta name="viewport" content="width=device-width,minimum-scale=1">
    <meta name="description" content="前言 此篇介紹如何使用docker執行一個NGINX HTTP SERVER
環境 DOCKER!!我想應該不用多說
有幾種方式可以不弄髒自己的環境，其它的待你發現
 找台新電腦來裝，愛用Linux 我有VirtualBox自己載iso來玩 (Linux) Vagrant &#43; VirtualBox (有點學習曲線，但有其價值)  我自己的環境為Windows 10 跑Vagrant &#43; Virtual Box 起 Debian 10 跑Docker
NGINX 還記得約8年前來到大鵬科技的時候第一次接觸到NGINX
沒想到今天會發展的那麼好
擁有了自己的一片市場
不過說要說在前頭我們公司根本沒有把它當HTTP SERVER來對待!!
純COMMUNITY PROXY SERVER!!
NGINX有付費版(叫NGINX PLUS)，不過我自己是沒有使用過~
公司用的是COMMUNITY版，基本上功能就很足夠一般使用
如果未來有下面的需求就可以直接使用
 WEB伺服器 PROXY SERVER  NGINX (DOCKER) 這一篇基本上都會依照此篇來做為說明
話不多說先執行一下裡面的範例吧
docker run --name some-nginx -v /some/content:/usr/share/nginx/html:ro -d nginx
等待執行完成後可以執行指令docker ps確認一下狀況為何
應該可以看的到下面資訊
root@debian10:/home/vagrant# docker ps CONTAINER ID IMAGE COMMAND CREATED STATUS PORTS NAMES 5b88581b0c42 nginx &#34;/docker-entrypoint.">
    <meta name="generator" content="Hugo 0.92.0" />
    
    
      <META NAME="ROBOTS" CONTENT="NOINDEX, NOFOLLOW">
    

    
<link rel="stylesheet" href="/ananke/css/main.min.css" >



    
    
    
      

    

    
    
    <meta property="og:title" content="DOCKER - NGINX HTTP SERVER" />
<meta property="og:description" content="前言 此篇介紹如何使用docker執行一個NGINX HTTP SERVER
環境 DOCKER!!我想應該不用多說
有幾種方式可以不弄髒自己的環境，其它的待你發現
 找台新電腦來裝，愛用Linux 我有VirtualBox自己載iso來玩 (Linux) Vagrant &#43; VirtualBox (有點學習曲線，但有其價值)  我自己的環境為Windows 10 跑Vagrant &#43; Virtual Box 起 Debian 10 跑Docker
NGINX 還記得約8年前來到大鵬科技的時候第一次接觸到NGINX
沒想到今天會發展的那麼好
擁有了自己的一片市場
不過說要說在前頭我們公司根本沒有把它當HTTP SERVER來對待!!
純COMMUNITY PROXY SERVER!!
NGINX有付費版(叫NGINX PLUS)，不過我自己是沒有使用過~
公司用的是COMMUNITY版，基本上功能就很足夠一般使用
如果未來有下面的需求就可以直接使用
 WEB伺服器 PROXY SERVER  NGINX (DOCKER) 這一篇基本上都會依照此篇來做為說明
話不多說先執行一下裡面的範例吧
docker run --name some-nginx -v /some/content:/usr/share/nginx/html:ro -d nginx
等待執行完成後可以執行指令docker ps確認一下狀況為何
應該可以看的到下面資訊
root@debian10:/home/vagrant# docker ps CONTAINER ID IMAGE COMMAND CREATED STATUS PORTS NAMES 5b88581b0c42 nginx &#34;/docker-entrypoint." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://pinatclimaxtech.github.io/posts/docker-nginx/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2022-02-10T21:00:00+00:00" />
<meta property="article:modified_time" content="2022-02-10T21:00:00+00:00" />

<meta itemprop="name" content="DOCKER - NGINX HTTP SERVER">
<meta itemprop="description" content="前言 此篇介紹如何使用docker執行一個NGINX HTTP SERVER
環境 DOCKER!!我想應該不用多說
有幾種方式可以不弄髒自己的環境，其它的待你發現
 找台新電腦來裝，愛用Linux 我有VirtualBox自己載iso來玩 (Linux) Vagrant &#43; VirtualBox (有點學習曲線，但有其價值)  我自己的環境為Windows 10 跑Vagrant &#43; Virtual Box 起 Debian 10 跑Docker
NGINX 還記得約8年前來到大鵬科技的時候第一次接觸到NGINX
沒想到今天會發展的那麼好
擁有了自己的一片市場
不過說要說在前頭我們公司根本沒有把它當HTTP SERVER來對待!!
純COMMUNITY PROXY SERVER!!
NGINX有付費版(叫NGINX PLUS)，不過我自己是沒有使用過~
公司用的是COMMUNITY版，基本上功能就很足夠一般使用
如果未來有下面的需求就可以直接使用
 WEB伺服器 PROXY SERVER  NGINX (DOCKER) 這一篇基本上都會依照此篇來做為說明
話不多說先執行一下裡面的範例吧
docker run --name some-nginx -v /some/content:/usr/share/nginx/html:ro -d nginx
等待執行完成後可以執行指令docker ps確認一下狀況為何
應該可以看的到下面資訊
root@debian10:/home/vagrant# docker ps CONTAINER ID IMAGE COMMAND CREATED STATUS PORTS NAMES 5b88581b0c42 nginx &#34;/docker-entrypoint."><meta itemprop="datePublished" content="2022-02-10T21:00:00+00:00" />
<meta itemprop="dateModified" content="2022-02-10T21:00:00+00:00" />
<meta itemprop="wordCount" content="263">
<meta itemprop="keywords" content="" /><meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="DOCKER - NGINX HTTP SERVER"/>
<meta name="twitter:description" content="前言 此篇介紹如何使用docker執行一個NGINX HTTP SERVER
環境 DOCKER!!我想應該不用多說
有幾種方式可以不弄髒自己的環境，其它的待你發現
 找台新電腦來裝，愛用Linux 我有VirtualBox自己載iso來玩 (Linux) Vagrant &#43; VirtualBox (有點學習曲線，但有其價值)  我自己的環境為Windows 10 跑Vagrant &#43; Virtual Box 起 Debian 10 跑Docker
NGINX 還記得約8年前來到大鵬科技的時候第一次接觸到NGINX
沒想到今天會發展的那麼好
擁有了自己的一片市場
不過說要說在前頭我們公司根本沒有把它當HTTP SERVER來對待!!
純COMMUNITY PROXY SERVER!!
NGINX有付費版(叫NGINX PLUS)，不過我自己是沒有使用過~
公司用的是COMMUNITY版，基本上功能就很足夠一般使用
如果未來有下面的需求就可以直接使用
 WEB伺服器 PROXY SERVER  NGINX (DOCKER) 這一篇基本上都會依照此篇來做為說明
話不多說先執行一下裡面的範例吧
docker run --name some-nginx -v /some/content:/usr/share/nginx/html:ro -d nginx
等待執行完成後可以執行指令docker ps確認一下狀況為何
應該可以看的到下面資訊
root@debian10:/home/vagrant# docker ps CONTAINER ID IMAGE COMMAND CREATED STATUS PORTS NAMES 5b88581b0c42 nginx &#34;/docker-entrypoint."/>

	
  </head>

  <body class="ma0 avenir bg-light-gray">

    
   
  

  
  
  <header class="cover bg-top" style="background-image: url('https://pinatclimaxtech.github.io/posts/docker-nginx/images/littlesis.jpg');">
    <div class="pb3-m pb6-l bg-black-60">
      <nav class="pv3 ph3 ph4-ns" role="navigation">
  <div class="flex-l justify-between items-center center">
    <a href="/" class="f3 fw2 hover-white no-underline white-90 dib">
      
        pin@ClimaxTech
      
    </a>
    <div class="flex-l items-center">
      

      
      
<div class="ananke-socials">
  
</div>
    </div>
  </div>
</nav>

      <div class="tc-l pv6 ph3 ph4-ns">
        
          <h1 class="f2 f1-l fw2 white-90 mb0 lh-title">DOCKER - NGINX HTTP SERVER</h1>
          
        
      </div>
    </div>
  </header>



    <main class="pb7" role="main">
      
  
  <article class="flex-l flex-wrap justify-between mw8 center ph3">
    <header class="mt4 w-100">
      <aside class="instapaper_ignoref b helvetica tracked">
          
        POSTS
      </aside>
      










  <div id="sharing" class="mt3 ananke-socials">
    
  </div>


      <h1 class="f1 athelas mt3 mb1">DOCKER - NGINX HTTP SERVER</h1>
      
      <p class="tracked">
          By <strong>
          
              Pin
          
          </strong>
      </p>
      
      
      
      <time class="f6 mv4 dib tracked" datetime="2022-02-10T21:00:00Z">February 10, 2022</time>
      

      
      
    </header>
    <div class="nested-copy-line-height lh-copy serif f4 nested-links nested-img mid-gray pr4-l w-two-thirds-l"><h1 id="前言">前言</h1>
<p>此篇介紹如何使用docker執行一個NGINX HTTP SERVER</p>
<h1 id="環境">環境</h1>
<p>DOCKER!!我想應該不用多說<br>
有幾種方式可以不弄髒自己的環境，其它的待你發現</p>
<ol>
<li>找台新電腦來裝，愛用Linux</li>
<li>我有VirtualBox自己載iso來玩 (Linux)</li>
<li>Vagrant + VirtualBox (有點學習曲線，但有其價值)</li>
</ol>
<p>我自己的環境為Windows 10 跑Vagrant + Virtual Box 起 Debian 10 跑Docker</p>
<h1 id="nginx">NGINX</h1>
<p>還記得約8年前來到<a href="https://www.climax.com.tw/">大鵬科技</a>的時候第一次接觸到NGINX<br>
沒想到今天會發展的那麼好<br>
擁有了自己的一片<a href="https://w3techs.com/technologies/details/ws-nginx">市場</a><br>
不過說要說在前頭我們公司根本沒有把它當HTTP SERVER來對待!!<br>
純COMMUNITY PROXY SERVER!!<br>
NGINX有付費版(叫<a href="https://www.nginx.com/products/nginx/">NGINX PLUS</a>)，不過我自己是沒有使用過~<br>
公司用的是<a href="https://nginx.org/en/">COMMUNITY</a>版，基本上功能就很足夠一般使用<br>
如果未來有下面的需求就可以直接使用</p>
<ol>
<li>WEB伺服器</li>
<li>PROXY SERVER</li>
</ol>
<h1 id="nginx-docker">NGINX (DOCKER)</h1>
<p>這一篇基本上都會依照<a href="https://hub.docker.com/_/nginx">此篇</a>來做為說明</p>
<p>話不多說先執行一下裡面的範例吧<br>
<code>docker run --name some-nginx -v /some/content:/usr/share/nginx/html:ro -d nginx</code><br>
等待執行完成後可以執行指令<code>docker ps</code>確認一下狀況為何<br>
應該可以看的到下面資訊</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">root@debian10:/home/vagrant# docker ps
CONTAINER ID   IMAGE     COMMAND                  CREATED         STATUS         PORTS     NAMES
5b88581b0c42   nginx     <span style="color:#e6db74">&#34;/docker-entrypoint.…&#34;</span>   <span style="color:#ae81ff">6</span> seconds ago   Up <span style="color:#ae81ff">4</span> seconds   80/tcp    some-nginx
</code></pre></div><p>在這邊我們啟動了一個名叫some-nginx的container<br>
沒有錯，這就是我們要的NGINX SERVER<br>
只是基本上執行完畢後沒有什麼用處 <br>
畢境現在的我們完全無法對它做任何事情<br>
因為我們無法存取到它所啟動的 80 port
可以用curl指令來試試看</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">root@debian10:/home/vagrant# curl http://10.15.5.2
curl: <span style="color:#f92672">(</span>7<span style="color:#f92672">)</span> Failed to connect to 10.15.5.2 port 80: Connection refused
</code></pre></div><p>WHY?<br>
container啟動前我們需要指定要開放的port供外部連線
這次我們再重新執行一次，不過要帶有開放的port
<code>docker run --name port-open-nginx -p 80:80 -v /some/content:/usr/share/nginx/html:ro -d nginx</code><br>
啟動完成後一樣執行一下<code>docker ps</code>查看一下</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">root@debian10:/home/vagrant# docker ps
CONTAINER ID   IMAGE     COMMAND                  CREATED          STATUS          PORTS                               NAMES
2a78861b9fc4   nginx     <span style="color:#e6db74">&#34;/docker-entrypoint.…&#34;</span>   <span style="color:#ae81ff">3</span> seconds ago    Up <span style="color:#ae81ff">2</span> seconds    0.0.0.0:80-&gt;80/tcp, :::80-&gt;80/tcp   port-open-nginx
</code></pre></div><p>很明顯的這一次多了<code>0.0.0.0:80-&gt;80/tcp, :::80-&gt;80/tcp</code>這個資訊<br>
<code>-p 80:80</code>的意思就是我要開一個port從我的server 80轉導到這個container的80<br>
接下來實驗一下吧!(可透過curl or WEB)</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">root@debian10:/home/vagrant# curl http://10.15.5.2
&lt;html&gt;
&lt;head&gt;&lt;title&gt;403 Forbidden&lt;/title&gt;&lt;/head&gt;
&lt;body&gt;
&lt;center&gt;&lt;h1&gt;403 Forbidden&lt;/h1&gt;&lt;/center&gt;
&lt;hr&gt;&lt;center&gt;nginx/1.21.6&lt;/center&gt;
&lt;/body&gt;
&lt;/html&gt;
</code></pre></div><p>雖然成功了但我們沒有辦法看到任何的頁面<br>
那是因為在執行的過程中帶了<code>-v /some/content:/usr/share/nginx/html:ro</code>這個參數而有所影響<br>
這個參數<code>-v</code>可以將host端的檔案系統掛載到container端的內部中，有點類似NFS的概念~<br>
這邊就可以實驗一下<br>
指令<code>cd /some/content</code>我們可以發現資料匣已經被建立了，只是裡面空空如也<br>
試著建立一個網頁看看吧</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">echo <span style="color:#e6db74">&#39;&lt;!DOCTYPE html&gt;
</span><span style="color:#e6db74">&lt;html&gt;
</span><span style="color:#e6db74">&lt;head&gt;
</span><span style="color:#e6db74">&lt;title&gt;Welcome to nginx!&lt;/title&gt;
</span><span style="color:#e6db74">&lt;style&gt;
</span><span style="color:#e6db74">html { color-scheme: light dark; }
</span><span style="color:#e6db74">body { width: 35em; margin: 0 auto;
</span><span style="color:#e6db74">font-family: Tahoma, Verdana, Arial, sans-serif; }
</span><span style="color:#e6db74">&lt;/style&gt;
</span><span style="color:#e6db74">&lt;/head&gt;
</span><span style="color:#e6db74">&lt;body&gt;
</span><span style="color:#e6db74">&lt;h1&gt;Welcome to nginx!&lt;/h1&gt;
</span><span style="color:#e6db74">&lt;p&gt;If you see this page, the nginx web server is successfully installed and
</span><span style="color:#e6db74">working. Further configuration is required.&lt;/p&gt;
</span><span style="color:#e6db74">
</span><span style="color:#e6db74">&lt;p&gt;For online documentation and support please refer to
</span><span style="color:#e6db74">&lt;a href=&#34;http://nginx.org/&#34;&gt;nginx.org&lt;/a&gt;.&lt;br/&gt;
</span><span style="color:#e6db74">Commercial support is available at
</span><span style="color:#e6db74">&lt;a href=&#34;http://nginx.com/&#34;&gt;nginx.com&lt;/a&gt;.&lt;/p&gt;
</span><span style="color:#e6db74">
</span><span style="color:#e6db74">&lt;p&gt;&lt;em&gt;Thank you for using nginx.&lt;/em&gt;&lt;/p&gt;
</span><span style="color:#e6db74">&lt;/body&gt;
</span><span style="color:#e6db74">&lt;/html&gt;&#39;</span> &gt; /some/content/index.html
</code></pre></div><p>接下來再用curl打看看</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">root@debian10:/some/content# curl http://10.15.5.2
Hello NGINX in DOCKER
</code></pre></div><h1 id="回顧">回顧</h1>
<p>其實啟動一個DOCKER NGINX真的很簡單<br>
只是特別要注意的就是</p>
<ol>
<li>PORT</li>
<li>掛載檔案到container中</li>
</ol>
<p>這裡也要再補充PORT可多開(-p 80:80 -p 3080:3080)、也可以開range PORT</p>
<ul class="pa0">
  
</ul>
<div class="mt6 instapaper_ignoref">
      
      
      </div>
    </div>

    <aside class="w-30-l mt6-l">




</aside>

  </article>

    </main>
    <footer class="bg-black bottom-0 w-100 pa3" role="contentinfo">
  <div class="flex justify-between">
  <a class="f4 fw4 hover-white no-underline white-70 dn dib-ns pv2 ph3" href="https://pinatclimaxtech.github.io/" >
    &copy;  pin@ClimaxTech 2022 
  </a>
    <div>
<div class="ananke-socials">
  
</div></div>
  </div>
</footer>

  </body>
</html>
